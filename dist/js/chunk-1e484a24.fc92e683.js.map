{"version":3,"sources":["webpack:///./node_modules/core-js/internals/get-substitution.js","webpack:///./src/network/login.js","webpack:///./src/components/common/login/Login.vue","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./src/network/userlist/playlist.js","webpack:///./src/components/common/login/Login.vue?a7f5","webpack:///./src/components/common/login/Login.vue?4444","webpack:///./src/components/common/login/Login.vue?fd8c","webpack:///./src/components/common/login/Login.vue?0f27","webpack:///./src/components/common/login/Login.vue?894f","webpack:///src/components/common/login/Login.vue"],"names":["login","tel","pwd","getTimestamp","Date","getTime","request","url","params","phone","password","timestamp","getLoginStatus","cookies","cookie","getLikelist","uid","token","getListMessage","userId","getListCount","getCorMusicId","id"],"mappings":"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","file":"js/chunk-1e484a24.fc92e683.js","sourcesContent":["var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","import { request } from \"./request\";\r\n//用户登录\r\nexport function login(tel, pwd) {\r\n  var getTimestamp = new Date().getTime();\r\n  return request({\r\n    url: \"/login/cellphone\",\r\n    params: {\r\n      phone: tel,\r\n      password: pwd,\r\n      timestamp: getTimestamp,\r\n      // timestamp: 15030199,\r\n    },\r\n  });\r\n}\r\n// 登录状态\r\nexport function getLoginStatus(cookies) {\r\n  return request({\r\n    url: \"/login/status\",\r\n    params: {\r\n      cookie: cookies,\r\n    },\r\n  });\r\n}\r\n//获取喜欢的音乐\r\nexport function getLikelist(uid, token, cookie) {\r\n  return request({\r\n    url: \"/likelist\",\r\n    params: {\r\n      uid,\r\n      token,\r\n      cookie,\r\n    },\r\n  });\r\n}\r\n","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=e7d66d10&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=e7d66d10&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7d66d10\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n});\n","import { request } from \"../request\";\r\n//根据用户 id 获取歌单信息\r\nexport function getListMessage(userId) {\r\n  return request({\r\n    url: \"/user/playlist\",\r\n    params: {\r\n      uid: userId,\r\n    },\r\n  });\r\n}\r\n//获取创建歌单和收藏歌单的数量\r\nexport function getListCount(cookie) {\r\n  return request({\r\n    url: \"/user/subcount\",\r\n    params: {\r\n      cookie,\r\n    },\r\n  });\r\n}\r\n//歌单能看到歌单名字, 但看不到具体歌单内容 ,传入歌单 id, 可 以获取对应歌单内的所有的音乐(未登录状态只能获取不完整的歌单,登录后是完整的)\r\nexport function getCorMusicId(id) {\r\n  return request({\r\n    url: '/playlist/detail',\r\n    params: {\r\n     id \r\n    }\r\n  })\r\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=e7d66d10&scoped=true&lang=less&\"","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"2b485af3-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=template&id=e7d66d10&scoped=true&\"","// extracted by mini-css-extract-plugin","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\",\"gutter\":0}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"})])],1),_c('el-row',{attrs:{\"gutter\":0,\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":22.5}},[_c('el-card',{staticStyle:{\"border-radius\":\"24px\",\"width\":\"82vw\"},attrs:{\"shadow\":\"always\"}},[_c('h2',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"欢迎登陆\")]),_c('el-divider'),_c('el-form',{ref:\"telephoneValidateForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ValidateForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"telephone\",\"rules\":[{ required: true, message: '手机号不能为空' }]}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\",\"type\":\"number\"},model:{value:(_vm.ValidateForm.telephone),callback:function ($$v) {_vm.$set(_vm.ValidateForm, \"telephone\", _vm._n($$v))},expression:\"ValidateForm.telephone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pwd\",\"rules\":[{ required: true, message: '密码不能为空' }]}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.ValidateForm.pwd),callback:function ($$v) {_vm.$set(_vm.ValidateForm, \"pwd\", $$v)},expression:\"ValidateForm.pwd\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm()}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('telephoneValidateForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"login\">\r\n    <el-row type=\"flex\" justify=\"center\" :gutter=\"0\">\r\n      <el-col :span=\"8\">\r\n        <div class=\"grid-content\"></div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"0\" type=\"flex\" justify=\"center\">\r\n      <el-col :span=\"22.5\">\r\n        <el-card shadow=\"always\" style=\"border-radius:24px;width:82vw\">\r\n          <h2 style=\"text-align:center\">欢迎登陆</h2>\r\n          <el-divider></el-divider>\r\n          <el-form\r\n            :model=\"ValidateForm\"\r\n            ref=\"telephoneValidateForm\"\r\n            label-width=\"100px\"\r\n            class=\"demo-ruleForm\"\r\n          >\r\n            <el-form-item\r\n              label=\"手机号\"\r\n              prop=\"telephone\"\r\n              :rules=\"[{ required: true, message: '手机号不能为空' }]\"\r\n            >\r\n              <el-input\r\n                placeholder=\"请输入手机号\"\r\n                type=\"number\"\r\n                v-model.number=\"ValidateForm.telephone\"\r\n              ></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item\r\n              label=\"密码\"\r\n              prop=\"pwd\"\r\n              :rules=\"[{ required: true, message: '密码不能为空' }]\"\r\n            >\r\n              <el-input\r\n                placeholder=\"请输入密码\"\r\n                v-model=\"ValidateForm.pwd\"\r\n                show-password\r\n              ></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"submitForm()\">提交</el-button>\r\n              <el-button @click=\"resetForm('telephoneValidateForm')\">重置</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { login, getLoginStatus, getLikelist } from \"@/network/login.js\";\r\nimport { getListMessage } from \"@/network/userlist/playlist\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      ValidateForm: {\r\n        telephone: \"18689758622\",\r\n        pwd: \"csy148376.2599\",\r\n      },\r\n      cookies: null,\r\n      value: \"我是login组件\",\r\n      loginStatus: {},\r\n      listMessage: [],\r\n      token: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      //用户登录\r\n      login(this.ValidateForm.telephone, this.ValidateForm.pwd).then((res) => {\r\n        if (res.code === 200) {\r\n          this.token = res.token;\r\n          console.log(\"登录成功\");\r\n          alert(\"登录成功\");\r\n          this.cookies = encodeURIComponent(res.cookie);\r\n          this.$store.commit(\"getCookie\", this.cookies);\r\n          this.$router.replace(\"/profile\");\r\n        } else {\r\n          alert(\"密码错误\");\r\n        }\r\n      });\r\n      setTimeout(() => {\r\n        //获取登录状态（包括用户 id,头像,背景图片,昵称等）\r\n        getLoginStatus(this.cookies).then((res) => {\r\n          const data = res.data;\r\n          this.loginStatus.id = data.account.id;\r\n          this.loginStatus.avatarUrl = data.profile.avatarUrl;\r\n          this.loginStatus.backgroundUrl = data.profile.backgroundUrl;\r\n          this.loginStatus.nickname = data.profile.nickname;\r\n          this.$store.commit(\"getLoginStatus\", this.loginStatus);\r\n          //一旦获得用户 id 值，就发送获取相关歌单信息请求\r\n          if (this.$store.state.loginStatus.hasOwnProperty(\"id\")) {\r\n            //获取我喜欢音乐里每一首歌曲 id\r\n            getLikelist(\r\n              this.$store.state.loginStatus.id,\r\n              this.token,\r\n              this.$store.state.cookie\r\n            ).then((res) => {\r\n              //获取我喜欢的音乐列表(id 数组)\r\n              const ids = res.ids;\r\n              this.$store.commit(\"getLikelist\", ids);\r\n            });\r\n            //获取每个歌单的图片、id、歌单名字(如: ...喜欢的音乐)、歌曲的数量\r\n            getListMessage(this.$store.state.loginStatus.id).then((res) => {\r\n              const songlistMesArr = [];\r\n              res.playlist.forEach((item) => {\r\n                const obj = {};\r\n                obj.coverImgUrl = item.coverImgUrl;\r\n                obj.id = item.id;\r\n                obj.name = item.name;\r\n                obj.trackCount = item.trackCount;\r\n                songlistMesArr.push(obj);\r\n              });\r\n              this.listMessage = songlistMesArr;\r\n              this.$store.commit(\"getListMessage\", this.listMessage);\r\n            });\r\n          }\r\n        });\r\n      }, 1000);\r\n    },\r\n    resetForm(formName) {\r\n      // this.$refs[formName].resetFields();\r\n      this.ValidateForm.telephone = \"\";\r\n      this.ValidateForm.pwd = \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.grid-content {\r\n  min-height: 16vh;\r\n}\r\n</style>\r\n"],"sourceRoot":""}