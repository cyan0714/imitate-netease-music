(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f0a2078"],{"0819":function(t,e,o){"use strict";o("d139")},"52fa":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"login"}},[o("el-row",{attrs:{type:"flex",justify:"center",gutter:0}},[o("el-col",{attrs:{span:8}},[o("div",{staticClass:"grid-content"})])],1),o("el-row",{attrs:{gutter:0,type:"flex",justify:"center"}},[o("el-col",{attrs:{span:22.5}},[o("el-card",{staticStyle:{"border-radius":"24px",width:"82vw"},attrs:{shadow:"always"}},[o("h2",{staticStyle:{"text-align":"center"}},[t._v("欢迎登陆")]),o("el-divider"),o("el-form",{ref:"telephoneValidateForm",staticClass:"demo-ruleForm",attrs:{model:t.ValidateForm,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"手机号",prop:"telephone",rules:[{required:!0,message:"手机号不能为空"}]}},[o("el-input",{attrs:{placeholder:"请输入手机号",type:"number"},model:{value:t.ValidateForm.telephone,callback:function(e){t.$set(t.ValidateForm,"telephone",t._n(e))},expression:"ValidateForm.telephone"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"pwd",rules:[{required:!0,message:"密码不能为空"}]}},[o("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.ValidateForm.pwd,callback:function(e){t.$set(t.ValidateForm,"pwd",e)},expression:"ValidateForm.pwd"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("提交")]),o("el-button",{on:{click:function(e){return t.resetForm("telephoneValidateForm")}}},[t._v("重置")])],1)],1)],1)],1)],1)],1)},r=[],n=(o("159b"),o("b0c0"),o("1bab"));function i(t,e){var o=(new Date).getTime();return Object(n["a"])({url:"/login/cellphone",params:{phone:t,password:e,timestamp:o}})}function l(t){return Object(n["a"])({url:"/login/status",params:{cookie:t}})}function s(t,e,o){return Object(n["a"])({url:"/likelist",params:{uid:t,token:e,cookie:o}})}var u=o("5d31"),c={name:"Login",components:{},data:function(){return{ValidateForm:{telephone:"",pwd:""},cookies:null,value:"我是login组件",loginStatus:{},listMessage:[],token:""}},methods:{submitForm:function(){var t=this;i(this.ValidateForm.telephone,this.ValidateForm.pwd).then((function(e){200===e.code?(t.token=e.token,console.log("登录成功"),alert("登录成功"),t.cookies=encodeURIComponent(e.cookie),t.$store.commit("getCookie",t.cookies),t.$router.push("/profile")):alert("密码错误")})),setTimeout((function(){l(t.cookies).then((function(e){var o=e.data;t.loginStatus.id=o.account.id,t.loginStatus.avatarUrl=o.profile.avatarUrl,t.loginStatus.backgroundUrl=o.profile.backgroundUrl,t.loginStatus.nickname=o.profile.nickname,t.$store.commit("getLoginStatus",t.loginStatus),t.$store.state.loginStatus.hasOwnProperty("id")&&(s(t.$store.state.loginStatus.id,t.token,t.$store.state.cookie).then((function(e){var o=e.ids;t.$store.commit("getLikelist",o)})),Object(u["c"])(t.$store.state.loginStatus.id).then((function(e){var o=[];e.playlist.forEach((function(t){var e={};e.coverImgUrl=t.coverImgUrl,e.id=t.id,e.name=t.name,e.trackCount=t.trackCount,o.push(e)})),t.listMessage=o,t.$store.commit("getListMessage",t.listMessage)})))}))}),1e3)},resetForm:function(t){this.ValidateForm.telephone="",this.ValidateForm.pwd=""}}},d=c,m=(o("0819"),o("2877")),p=Object(m["a"])(d,a,r,!1,null,"3fde0b66",null);e["default"]=p.exports},"5d31":function(t,e,o){"use strict";o.d(e,"c",(function(){return r})),o.d(e,"b",(function(){return n})),o.d(e,"a",(function(){return i}));var a=o("1bab");function r(t){return Object(a["a"])({url:"/user/playlist",params:{uid:t}})}function n(t){return Object(a["a"])({url:"/user/subcount",params:{cookie:t}})}function i(t){return Object(a["a"])({url:"/playlist/detail",params:{id:t}})}},d139:function(t,e,o){}}]);
//# sourceMappingURL=chunk-7f0a2078.3a7721c6.js.map